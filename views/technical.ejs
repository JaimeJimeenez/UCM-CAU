<!DOCTYPE html>
<html lang="en">
<head>
    <title> Technical </title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link href = "https://fonts.googleapis.com/icon?family=Material+Icons" rel = "stylesheet">
    <link href = "../style/user.css" rel="stylesheet">
</head>
<body>
    <div class = "container-fluid">
        <%- include("partials/header") %>

        <main>
            <section>
                <nav class = "mt-5 p-2 bg-light">
                    <div class = "row">

                        <div class="col col-sm-2 col-md-2 col-xl-2 text-center">
                            <a href = "/notices/incomingNotices" class = "nav-link navNotices"> Avisos Entrantes </a>
                        </div>

                        <div class = "col col-sm-2 col-md-2 col-xl-2 text-center">
                            <a href = "/#myNotices" class = "nav-link navNotices"> Mis Avisos </a>
                        </div>
    
                        <div class = "col col-sm-2 col-md-2 col-xl-2 text-center">
                            <a href = "/#noticesHistory" class = "nav-link navNotices"> Histórico de Avisos </a>
                        </div>

                        <div class = "col col-sm-2 col-md-2 col-xl-2 text-center">
                            <a href = "/user/managementUsers" class = "nav-link navNotices"> Gestión de usuarios </a>
                        </div>
    
                        <div class = "col col-sm-4 col-md-4 col-xl-4">
    
                            <form method = "GET" action = "/notices/search">
                                <div class = "row">
                                    <div class = "col col-sm-3 col-md-3 col-xl-3 navNotices">
                                        <label for = "user"> Usuario </label>
                                        <input type = "checkbox" values = "yes" name = "user">
                                    </div>
                                    <div class = "col col-sm-5 col-md-5 col-xl-5">
                                        <input type = "text" class = "form-control" placeholder = "Search" name = "search">
                                    </div>
                                    <div class = "col col-sm-2 col-md-2 col-xl-2">
                                        <button type = "submit" class = "btn btn-primary" id = "btnNotice"> Buscar </button>
                                    </div>
                                </div>
                            </form>                            
                           
                        </div>
                    </div>
                </nav>
            </section>

            <section>
                <%- include("partials/profile") %>
            </section>

            <section>
                <div id = "myNotices">
                    <div class = "table-responsive">
                        <table class = "table-hover text-center w-100">
                            <thead>
                                <tr>
                                    <th class = "d-none"> Id </th>
                                    <th> Tipo </th>
                                    <th> Fecha </th>
                                    <th> Texto </th>
                                    <th> Técnico </th>
                                    <th> Acciones </th>
                                </tr>
                            </thead>
                            <tbody>
                                <% notices.forEach((notice) => { %>
                                    <% if (!notice.Done) {%>
                                    <tr>
                                        <td class = "d-none" id = "idNotice"> <%=notice.Id%> </td>
                                        <td> <%= notice.Type %> </td>
                                        <td> <%= notice.Date %> </td>
                                        <td> <%= notice.Text %></td>
                                        <td> <%= notice.Technical %> </td> 
                                        <td>
                                            <a href = "/notices/getNotice/<%=notice.Id%>" class = "material-icons text-decoration-none" id = "notice" data-bs-toggle = "modal" data-bs-target = "#showNotice"> visibility </a>
                                        </td>
                                    </tr>
                                <% }}); %>
                            </tbody>
                        </table>    
                    </div>
                </div>
            </section>

            <section>
                <!-- My Notices -->
            </section>

            <section>
                <!-- History Notices -->
            </section>

            <section>
                <!-- Management Users -->
            </section>
        </main>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>