<section>
    <div class = "modal fade" id = "profile">
        <div class = "modal-dialog modal-xl modal-dialog-centered">
            <div class = "modal-content">

                <div class = "modal-header d-flex justify-content-center align-items-center text-centert">
                    <h4> <%= user.Name %> </h4>
                </div>

                <div class = "p-5 modal-body">

                    <div class = "row align-items-center">

                        <% 
                            const suggests = notices.filter(notice => notice.Type === 'Sugerencia').length
                            const incidents = notices.filter(notice => notice.Type === 'Incidencia').length
                            const congrats = notices.filter(notice => notice.Type === 'Felicitación').length
                        %>

                        <div class = "col col-sm col-md col-xl text-center">
                            <div class = "row d-flex justify-content-center text-center"> Se unió el: <%= user.date %></div>
                            
                            <div class = "row d-flex justify-content-center text-center"> Perfil: <span id = "profileUser"><%= user.profile %></span></div>
                            <% if (user.employee === null) {%>
                                <span id = "profleUser"> Usuario </span>
                            <% } else { %>
                                <span id = "profileUser"> Técnico </span>
                            <% } %> 
                            <div class = "row d-flex justify-content-center text-center"> Contraseña <%= user.password %></div>
                            <div class = "row d-flex justify-content-center text-center"> Nombre a mostrar: <%= user.name %></div>
                        </div>

                        <div class = "col col-sm col-md col-xl text-center">  
                            <% if (user.employee === null) {%>
                                <h5> Avisos realizados: <%= incidents + suggests + congrats %></h5>
                            <% } else { %>
                                <h5> Avisos gestionados: <%= incidents + suggests + congrats %></h5>
                            <% } %> 
                            <div class = "row d-flex justify-content-center text-center"> Incidencias: <%= incidents %> </div>
                            <div class = "row d-flex justify-content-center text-center"> Sugerencias: <%= suggests %> </div>
                            <div class = "row d-flex justify-content-center text-center"> Felicitaciones: <%= congrats %> </div>
                        </div>
                    </div>

                </div>

                <div class = "modal-footer">
                    <button type = "button" class = "btn btn-primary" data-bs-dismiss = "modal"> Cerrar </button>
                </div>

            </div>
        </div>
    </div>
</section>